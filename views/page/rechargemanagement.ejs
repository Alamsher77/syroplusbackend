<div class="bg-purple-100 min-h-screen p-8">
  <% if (success.length > 0) { %>
  <div id="alertBox" class="bg-green-500 font-bold text-white mb-4 capitalize px-4 py-2"><%= success[0] %></div>
<% } %>

  <% if (error.length > 0) { %>
  <div id="alertBox" class="bg-red-500 font-bold text-white mb-4 capitalize px-4 py-2"><%= error[0] %></div>
<% } %>
  <h1 class="text-3xl text-purple-800 font-bold mb-6">Manegment Recharge Panel</h1>

  <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
    <!-- Recharge Requests -->
    <div class="bg-white p-6 rounded-2xl shadow-lg">
      <h2 class="text-xl font-semibold text-purple-700 mb-4">Recharge Request History</h2>
      <% if (rechargeRequests.length === 0) { %>
        <p class="text-gray-500">No pending requests.</p>
      <% } else { %>
        <% rechargeRequests.forEach(req => { %>
          <form action="/approve" method="POST" class="flex items-center justify-between mb-4">
            <div>
              <p class="text-lg font-medium text-purple-900"><%= req.userId %></p>
              <p class="text-sm text-purple-500">₹<%= req.amount %></p>
              <input type="hidden" name="userId" value="<%= req.userId %>">
              <input type="hidden" name="amount" value="<%= req.amount %>">
            </div>
            <button type="submit" class="bg-purple-600 text-white px-4 py-1 rounded-xl hover:bg-purple-700">
              Complete
            </button>
          </form>
        <% }) %>
      <% } %>
    </div>

    <!-- Recharge Completed -->
    <form action="/admin-invest/addrechargeamount" method="post" class="bg-white p-6 rounded-2xl shadow-lg ">
     <label for="phone" class="block text-sm font-medium text-purple-700">Phone</label>
        <input type="number" placeholder="add phone number" name="phone" id="phone"
          class="w-full mb-6 px-3 py-2 border border-purple-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-600">
        <label for="price" class="block text-sm font-medium text-purple-700">Price</label>
        <input type="number" placeholder="add recharges amount" name="price" id="price"
          class="w-full px-3 py-2 border border-purple-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-600">
      <button type="submit" class="bg-purple-700 mt-8 text-white py-2 px-4 rounded-2">Add</button>
    </form>
    <div class="bg-white p-6 rounded-2xl shadow-lg">
      <h2 class="text-xl font-semibold text-purple-700 mb-4">Recharge Completed History</h2>
      <% if (completedRecharges.length === 0) { %>
        <p class="text-gray-500">No completed recharges yet.</p>
      <% } else { %>
        <% completedRecharges.forEach(comp => { %>
          <div class="mb-3 border-b border-purple-100 pb-2">
            <p class="font-medium text-purple-900"><%= comp.userId %> — ₹<%= comp.amount %></p>
            <p class="text-xs text-gray-500">Completed on: <%= comp.date %></p>
          </div>
        <% }) %>
      <% } %>
    </div>
  </div>
</div>